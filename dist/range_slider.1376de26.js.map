{"version":3,"sources":["blocks/range_slider/range_slider.js"],"names":["range_slider","thumb","document","getElementById","thumb2","slider","range","first_price","second_price","coor","Val1","getBoundingClientRect","left","Val2","marg","price","parseInt","$","html","console","log","offsetWidth","onmousedown","event","preventDefault","shiftX","clientX","addEventListener","onMouseMove","onMouseUp","newLeft","edge","style","range_width","width","Math","round","removeEventListener","ondragstart","rightEdge"],"mappings":"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","file":"range_slider.1376de26.js","sourceRoot":"..\\src","sourcesContent":["import './range_slider.scss';\r\nexport function range_slider() {\r\n    let thumb = document.getElementById('thumb');\r\n    let thumb2 = document.getElementById('thumb2');\r\n    let slider = document.getElementById('slider');\r\n    let range = document.getElementById('range');\r\n    let first_price = document.getElementById('first_price');\r\n    let second_price = document.getElementById('second_price');\r\n    let coor = {Val1: thumb.getBoundingClientRect().left, Val2: thumb2.getBoundingClientRect().left}\r\n    let marg = thumb.getBoundingClientRect().left\r\n    let price = parseInt($(second_price).html())\r\n    console.log(price)\r\n    console.log(coor.Val1,coor.Val2)\r\n    price = price / (250 - thumb.offsetWidth + 1)\r\n\r\n\r\n    thumb.onmousedown = function(event) {\r\n        event.preventDefault(); // предотвратить запуск выделения (действие браузера)\r\n\r\n        let shiftX = event.clientX - thumb.getBoundingClientRect().left;\r\n        console.log(event.clientX)\r\n        console.log(shiftX)\r\n        // shiftY здесь не нужен, слайдер двигается только по горизонтали\r\n\r\n        document.addEventListener('mousemove', onMouseMove);\r\n        document.addEventListener('mouseup', onMouseUp);\r\n\r\n        function onMouseMove(event) {\r\n            let newLeft = event.clientX - shiftX - slider.getBoundingClientRect().left;\r\n\r\n            // курсор вышел из слайдера => оставить бегунок в его границах.\r\n            if (newLeft < -1) {\r\n                newLeft = -1;\r\n            }\r\n\r\n            let edge = coor.Val2 - thumb.offsetWidth - marg;\r\n            console.log(\"edge\",edge)\r\n            if(newLeft > edge){\r\n                newLeft = edge\r\n            }\r\n            console.log(\"newLeft\",newLeft)\r\n            thumb.style.left = newLeft + 'px';\r\n            coor.Val1 =  thumb.getBoundingClientRect().left\r\n            coor.Val2 =  thumb2.getBoundingClientRect().left\r\n            let range_width = coor.Val2 - newLeft  - marg\r\n\r\n            range.style.width = range_width + 'px'\r\n            range.style.left = newLeft + 6 + 'px';\r\n            $(first_price).html(Math.round((newLeft + 1)*price))\r\n\r\n\r\n        }\r\n\r\n        function onMouseUp() {\r\n            document.removeEventListener('mouseup', onMouseUp);\r\n            document.removeEventListener('mousemove', onMouseMove);\r\n        }\r\n\r\n        console.log(coor.Val1,coor.Val2)\r\n    };\r\n\r\n    thumb.ondragstart = function() {\r\n        return false;\r\n    };\r\n\r\n    thumb2.onmousedown = function(event) {\r\n\r\n        event.preventDefault(); // предотвратить запуск выделения (действие браузера)\r\n\r\n        let shiftX = event.clientX - thumb2.getBoundingClientRect().left;\r\n        // shiftY здесь не нужен, слайдер двигается только по горизонтали\r\n\r\n        document.addEventListener('mousemove', onMouseMove);\r\n        document.addEventListener('mouseup', onMouseUp);\r\n\r\n        function onMouseMove(event) {\r\n            let newLeft = event.clientX - shiftX - slider.getBoundingClientRect().left;\r\n\r\n\r\n            let rightEdge = slider.offsetWidth - thumb2.offsetWidth;\r\n            if (newLeft > rightEdge -1) {\r\n                newLeft = rightEdge -1;\r\n            }\r\n\r\n            let edge = coor.Val1 - thumb2.offsetWidth - marg + 30\r\n            if(newLeft < edge){\r\n                newLeft = edge\r\n            }\r\n            thumb2.style.left = newLeft + 'px';\r\n            coor.Val1 =  thumb.getBoundingClientRect().left\r\n            coor.Val2 =  thumb2.getBoundingClientRect().left\r\n\r\n            let range_width = newLeft - coor.Val1 + marg\r\n            console.log(range_width)\r\n            range.style.width = range_width + 'px'\r\n            //range.style.left = newLeft + 6 + 'px';\r\n            $(second_price).html(Math.round((newLeft-14)*price))\r\n\r\n\r\n        }\r\n\r\n        function onMouseUp() {\r\n            document.removeEventListener('mouseup', onMouseUp);\r\n            document.removeEventListener('mousemove', onMouseMove);\r\n        }\r\n\r\n    };\r\n\r\n    thumb2.ondragstart = function() {\r\n        return false;\r\n    };\r\n}"]}